{
  "Logging": {
    "LogLevel": {
      "Default": "Warning"
    }
  },
  "AllowedHosts": "*",
  "TransitDb": {
    "About": "This section describes all the settings regarding the TransitDB",
    "About:Datasource": "The datasource contains the URI's where the locations and connections can be found",
    "Datasource": {
      "About": "NMBS/SNCB links",
      "Connections": "https://graph.irail.be/sncb/connections",
      "Locations": "https://irail.be/stations"
    },
    
    "About:Cache": "If the 'cache'-file exists, the transitDB will be initially loaded from there. The DB will be updated on disk every now and then.",
    "Cache": "latest.transitdb",
    "About:CacheUpdateEvery": "How often the cache should be updated",
    "CacheUpdateEvery": 300,
    "ReloadPolicy": {
      "About": "This section indicates the loading policies of new data. It consists of multiple time windows, relative with respect to the current moment. It describes what data should be in memory at all times (e.g: everything from today, the coming week and yesterday).",
      "Windows": [
        {
          "About": "Loads the coming 7 days + yesterday; runs daily",
          "About:TimeBefore": "When a cache update is run, the current date will be taken, rounded down (so that date % reloadEvery == 0) and then be used to calculate the time window. This start of this window is (date - timeBefore). Time in seconds.",
          "TimeBefore": 86400,
          "About:TimeAfter": "When a cache update is run, the current date will be taken, rounded down (so that date % reloadEvery == 0) and then be used to calculate the time window. This end of this window is (date + timeAfter). Time in seconds.",
          "TimeAfter": 604800,
          "About:ReloadEvery": "Trigger a cache refresh every 'ReloadEvery' seconds",
          "ReloadEvery": 86400,
          "About:ForceUpdate": "If set, a timewindow already present in the connections DB will be overwritten",
          "ForceUpdate": false,
          "About:Retries": "If loading fails, loading the window is retried `retries` time. Optional argument, default value is 0 retries",
          "Retries": 3
        },
        {
          "About": "Loads tomorrow; runs every 6 hours",
          "TimeBefore": -86400,
          "TimeAfter": 172800,
          "ReloadEvery": 21600,
          "ForceUpdate": true
        },
        {
          "About": "Loads the coming 24h (minus the first 6); runs every 1 hours",
          "TimeBefore": -21600,
          "TimeAfter": 86400,
          "ReloadEvery": 3600,
          "ForceUpdate": true
        },
        {
          "About": "Loads the coming 6h; runs every 5 minutes",
          "TimeBefore": 0,
          "TimeAfter": 21600,
          "ReloadEvery": 300,
          "ForceUpdate": true
        },
        {
          "About": "Loads the coming 2h; runs every 1 minutes",
          "TimeBefore": 0,
          "TimeAfter": 7200,
          "ReloadEvery": 60,
          "ForceUpdate": true
        }
      ]
    }
  }
}
